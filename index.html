<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#ffffff" />
  <title>4コマIT用語辞書</title>
  <style>
    body { font-family: -apple-system, system-ui, sans-serif; margin: 16px; }
    h1 { font-size: 20px; margin: 0 0 12px; }
    input { width: 100%; padding: 12px; font-size: 16px; box-sizing: border-box; }

    .topbar { display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom: 10px; }
    .pill { display:inline-block; padding: 2px 8px; border:1px solid #eee; border-radius:999px; font-size:12px; color:#555; }
    button { padding: 10px 12px; font-size: 14px; border:1px solid #eee; background:#fff; border-radius:10px; }
    button:active { transform: translateY(1px); }

    .card { padding: 12px; border: 1px solid #eee; border-radius: 12px; margin: 12px 0; }
    .term { font-weight: 700; }
    .muted { color: #666; font-size: 13px; }
    .bar { width: 100%; height: 10px; background: #eee; border-radius: 999px; overflow: hidden; margin-top: 8px; }
    .bar > div { height: 100%; width: 0%; background: #111; }
    .row { padding: 10px 0; border-bottom: 1px solid #eee; cursor: pointer; }
    img { width: 100%; height: auto; border: 1px solid #eee; border-radius: 12px; }
    .small { font-size: 12px; color: #777; }

    .grid { display:grid; grid-template-columns: 1fr; gap: 8px; }
    @media (min-width: 600px) { .grid { grid-template-columns: 1fr 1fr; } }

    .select { padding: 10px 12px; border:1px solid #eee; border-radius:10px; background:#fff; }
  </style>
</head>
<body>
  <h1>4コマIT用語辞書</h1>

  <div class="topbar">
    <span class="pill" id="onlinePill">online?</span>
    <span class="pill" id="verPill">dataVersion: -</span>
    <button id="btnCheck">更新チェック</button>
    <button id="btnDiff">差分だけ更新</button>
    <button id="btnFull">完全再キャッシュ</button>
  </div>

  <div class="card">
    <div class="term">オフライン準備</div>
    <div class="muted" id="offlineStatus">準備中…</div>
    <div class="bar"><div id="offlineBar"></div></div>
    <div class="muted" id="offlineDetail"></div>
    <div class="small" style="margin-top:8px;">
      ※初回キャッシュ中は画面を開いたままが安定（iPhone）
    </div>
  </div>

  <div class="grid">
    <input id="q" placeholder="用語を検索（例：AGP / TCP / 正規化）" />
    <select id="category" class="select">
      <option value="">カテゴリ：すべて</option>
    </select>
  </div>

  <div id="view" style="margin-top:10px;"></div>

  <script src="app.js"></script>
</body>
</html>
